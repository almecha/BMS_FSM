Currently, I am doing the FSM using [this tool](https://github.com/unclebob/CC_SMC/tree/master/src). Code is in "bms_fsm_v3" folder  
Errors implementation, charging, and driving are done using Super states (abstract states).  
It is not nearly finished, work in progress.
